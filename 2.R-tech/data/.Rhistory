#####===== (2A1) 2A1.R的網絡資源(軟件包, package): install.packages(), library() =====#####
#-- (1)R的綜合典藏網(CRAN,Comprehensive R Archive Network)共有6400(2015)/8000(2016)個軟件包(packages)
install.packages("RCurl")     ##--(2)安裝軟件包，只需執行一次，會從網路上下載安裝軟件包
library(RCurl)                ##--(3)當安裝好後，就可以隨時以 library() 調用此軟件包
#####===== (2A2-3) 網絡爬文 (KDD1: 数据取得): URL->X =====#####
library(RCurl);   library(XML)
install.packages("XML")
library(RCurl);   library(XML)                         ##--(3)當安裝好後，就可以隨時以 library() 調用此軟件包
#####===== (2A2-3) 網絡爬文 (KDD1: 数据取得): URL->X =====#####
URL = "https://www.cwb.gov.tw/V7/forecast/week/week.htm"
X = getURL(URL, .encoding="GB");  head(X)
#####===== (2B) 檢視網頁樹 (KDD2: 数据探索): X->XX =====#####
XX = xpathSApply(htmlParse(X), "//table[@class='BoxTableInside']/tbody")  #-- 相對路徑 //...
length(XX);   XX[[1]]   #-- [1] 7
length(XX)
#####===== (2B) 檢視網頁樹 (KDD2: 数据探索): X->XX =====#####
XX = xpathSApply(htmlParse(X), "//table[@class='BoxTableInside']/tbody/tr")  #-- 相對路徑 //...
length(XX);
XX[[1]]   #-- [1] 7
# <tr><th width="11%"></th>
#   <th width="10%"><a href="#" name="area1" id="area1"></a>白天/<br />晚上</th><th width="11%">02/16<br /><font color="#CC3366">星期六</font></th><th width="11%">02/17<br /><font color="#CC3366">星期日</font></th><th width="11%">02/18<br />星期一</th><th width="11%">02/19<br />星期二</th><th width="11%">02/20<br />星期三</th><th width="11%">02/21<br />星期四</th><th width="11%">02/22<br />星期五</th></tr>
XX[[2]]
##-- [Using R for Time Series Analysis, http://a-little-book-of-r-for-time-series.readthedocs.io/en/latest/src/timeseries.html]
kings <- scan("http://robjhyndman.com/tsdldata/misc/kings.dat",skip=3)   #-- ???威廉一世???始的英??????王的去世年??????据
kings
##=== 2C.網頁中表格格式 [http://rfunction.com/archives/1816] ===##
url    <- "http://www.openintro.org/cont/donorProcess.php"
result <- postForm(url, name="David Diez", email="david@openintro.org", phone="857-288-8547")
result
########## 3.物聯(設備)數據 ##########
##=== 3A..位置 [Data Taipei] ===##
download.file("https://tpairbox.blob.core.windows.net/blobfs/AirBoxData.gz","airbox.gz")
airbox <- fromJSON(gzfile("airbox.gz"))              #-- 台北市空氣盒子開放數據
airbox.df <- as.data.frame(airbox[[2]])
install.packages("jsonlite")
ubike <- fromJSON(gzfile("ubike.gz"))                #-- 台北市UBIKE開放數據
library(jsonlite)
ubike <- fromJSON(gzfile("ubike.gz"))                #-- 台北市UBIKE開放數據
########## 3.物聯(設備)數據 ##########
##=== 3A..位置 [Data Taipei] ===##
download.file("https://tpairbox.blob.core.windows.net/blobfs/AirBoxData.gz","airbox.gz")
airbox <- fromJSON(gzfile("airbox.gz"))              #-- 台北市空氣盒子開放數據
airbox.df <- as.data.frame(airbox[[2]])
dirbox.df
airbox
as.data.frame(airbox$entries)
head(airbox.df)
airbox.df = as.data.frame(airbox$entries);  dim(airbox.df)   #-- airbox.df <- as.data.frame(airbox[[2]])
airbox.df = as.data.frame(airbox$entries);  dim(airbox.df)   #-- 1198  9   #-- airbox.df <- as.data.frame(airbox[[2]])
library(arules)
data(Groceries)   #--內含169項物品的9835筆交易數據
inspect( Groceries[1:3] )
install.packages("datasets")
install.packages("datasets")
library(MASS)   #  library(datasets);
Insurance
##=== 1A..csv檔案格式 [黃文3.2.1] ===##
write.csv(Insurance, "insurance.csv")
csv1 = read.csv("insurance.csv");       csv2 <- read.table("insurance.csv")
##== (1B).txt檔案格式 [黃文3.2.1]
write.table(Insurance, "insurance.txt")
txt1 = read.csv("insurance.txt");       txt2 <- read.table("insurance.txt")
write.table(Insurance, "insurance.comma",sep=",")
wkDir = "c:/Users/Mike/Desktop/bda1072/";   setwd(wkDir);
write.csv(Insurance, "insurance.csv")
csv1 = read.csv("insurance.csv");       csv2 <- read.table("insurance.csv")
write.table(Insurance, "insurance.txt")
txt1 = read.csv("insurance.txt");       txt2 <- read.table("insurance.txt")
write.table(Insurance, "insurance.comma",sep=",")
comma1 = read.csv("insurance.comma");   comma2 <- read.table("insurance.comma")
comma2A = read.table("insurance.comma",sep=",")
write.table(Insurance, "insurance.slash",sep="/")
slash1 = read.csv("insurance.slash");   slash2 <- read.table("insurance.slash")
slash2A = read.table("insurance.slash",sep="/")
#####===== (0) 內置數據集 [黃文3.1] =====#####
# install.packages("arules")   #--association rules的軟件包
library(arules)
data(Groceries)   #--內含169項物品的9835筆交易數據
inspect( Groceries[1:3] )
#####===== (1) 企業(檔案)數據 =====#####
# install.packages("datasets")
library(MASS)   #  library(datasets);
Insurance
##== (1A).csv檔案格式 [黃文3.2.1]
write.csv(Insurance, "insurance.csv")
csv1 = read.csv("insurance.csv");       csv2 <- read.table("insurance.csv")
dataDir704 = "c:/Users/Mike/Desktop/bda1072/dataP704/"
#####===== (1) 企業(檔案)數據 =====#####
# install.packages("datasets")
library(MASS)   #  library(datasets);
Insurance
##== (1A).csv檔案格式 [黃文3.2.1]
write.csv(Insurance, "insurance.csv")
csv1 = read.csv("insurance.csv");       csv2 <- read.table("insurance.csv")
##== (1B).txt檔案格式 [黃文3.2.1]
write.table(Insurance, "insurance.txt")
txt1 = read.csv("insurance.txt");       txt2 = read.table("insurance.txt")
write.table(Insurance, "insurance.comma",sep=",")
comma1 = read.csv("insurance.comma");   comma2 = read.table("insurance.comma")
comma2A = read.table("insurance.comma",sep=",")
write.table(Insurance, "insurance.slash",sep="/")
slash1 = read.csv("insurance.slash");   slash2 <- read.table("insurance.slash")
slash2A = read.table("insurance.slash",sep="/")
ftpfile1 = readLines("ftpfile1.txt")    #-- [Munzert, Ch.13: 加州天氣數據]
ftpfile1
csv1 = read.csv(paste0(dataP704,"insurance.csv"));       csv2 <- read.table("insurance.csv")
##== (1B).txt檔案格式 [黃文3.2.1]
write.table(Insurance, paste0(dataP704,"insurance.txt"))
txt1 = read.csv(paste0(dataP704,"insurance.txt"));       txt2 = read.table("insurance.txt")
write.table(Insurance, paste0(dataP704,"insurance.comma"),sep=",")
txt1 = read.csv(paste0(dataP704,"insurance.txt"));       txt2 = read.table("insurance.txt")
dataDir704 = "c:/Users/Mike/Desktop/bda1072/dataP704/"
dataDirP704 = "c:/Users/Mike/Desktop/bda1072/dataP704/"
dataP704 = "c:/Users/Mike/Desktop/bda1072/dataP704/"
csv1 = read.csv(paste0(dataP704,"insurance.csv"));       csv2 <- read.table("insurance.csv")
dataP704 = "c:/Users/Mike/Desktop/bda1072/dataP704/"
wkDir = "c:/Users/Mike/Desktop/bda1072/dataP704/";   setwd(wkDir);
##== (1A).csv檔案格式 [黃文3.2.1]
write.csv(Insurance, "insurance.csv")
csv1 = read.csv("insurance.csv");       csv2 <- read.table("insurance.csv")
##== (1A).csv檔案格式 [黃文3.2.1]
write.csv(Insurance, "insurance.csv")
csv1 = read.csv("insurance.csv");       csv2 <- read.table("insurance.csv")
##== (1B).txt檔案格式 [黃文3.2.1]
write.table(Insurance, "insurance.txt")
write.table(Insurance, "insurance.comma",sep=",")
write.table(Insurance, "insurance.comma",sep=",")
comma1 = read.csv("insurance.comma");
(Insurance, "insurance.comma",sep=",")
comma2 = read.table("insurance.comma")
write.table(Insurance, "insurance.comma",sep=",")
comma1 = read.csv("insurance.comma");
comma2 = read.table("insurance.comma")
comma2A = read.table("insurance.comma",sep=",")
write.table(Insurance, "insurance.slash",sep="/")
slash1 = read.csv("insurance.slash");   slash2 <- read.table("insurance.slash")
slash2A = read.table("insurance.slash",sep="/")
ftpfile1 = readLines("ftpfile1.txt")    #-- [Munzert, Ch.13: 加州天氣數據]
##-- [Using R for Time Series Analysis, http://a-little-book-of-r-for-time-series.readthedocs.io/en/latest/src/timeseries.html]
kings <- scan("http://robjhyndman.com/tsdldata/misc/kings.dat",skip=3)   #-- ???威廉一世???始的英??????王的去世年??????据
##-- [Using R for Time Series Analysis, http://a-little-book-of-r-for-time-series.readthedocs.io/en/latest/src/timeseries.html]
kings <- scan("http://robjhyndman.com/tsdldata/misc/kings.dat",skip=3)   #-- ???威廉一世???始的英??????王的去世年??????据
births <- scan("http://robjhyndman.com/tsdldata/data/nybirths.dat")   #-- 1946/01-1959/12 的??????每月出生人口???量
souvenir <- scan("http://robjhyndman.com/tsdldata/data/fancy.dat")   #-- 1987/1-1993/12 昆士???海???度假圣地的某???念品商店???售???据
souvenir <- scan("http://robjhyndman.com/tsdldata/data/fancy.dat")   #-- 1987/1-1993/12 昆士蘭海濱度假圣地的某紀念品商店販售數据
##=== 1C..xlsx檔案格式 ===##
# install.packages("readxl")
library(readxl)
xls1 <- read_excel("insurance.xls")
csv123 <- read.csv("电商123.csv");       xls123 <- read_excel("???商123.xls")
xls1 = read_excel("insurance.xls")
csv123 = read.csv("电商123.csv");       xls123 <- read_excel("???商123.xls")
xls1 = read_excel("insurance.xlsx")
csv123 = read.csv("电商123.csv");       xls123 <- read_excel("???商123.xls")
xls1 = read_excel("insurance.xlsx")
xls1 = read_excel("insurance.xls")
csv123 = read.csv("电商123.csv");       xls123 <- read_excel("???商123.xls")
csv123 = read.csv("电商123.csv");
xls123 <- read_excel("电商123.xls")
123
csv123
xls123 = read_excel("电商123.xlsx")
csv123 = read.csv("电商123.csv",fileEncoding="Big5");
csv123
xls123 = read_excel("电商123.xlsx")
xls123 = read_excel("电商123.xls")
xls123 = read_excel("电商123.xls")   #-- windows系統不能用簡體字
##=== 1D..json檔案格式 [DATA.TAIPEI] ===##
library(jsonlite)
airbox = fromJSON("airbox.json")               #-- 台北市空氣盒子開放數據
airbox = fromJSON("airbox.json")               #-- 台北市空氣盒子開放數據
airbox.df = as.data.frame(airbox[[2]])
head(airbox.df)
##=== (1E).xml檔案格式 [DATA.GOV.TW] ===##
library(XML)
x <- xmlParse("county_h_10508.xml")             #-- 台灣鄉鎮郵區及英文名稱表
xRoot <- xmlRoot(x)
x.df <- xmlToDataFrame(xRoot)
x.df
#####===== (2) 雲端(網路)數據 =====#####
library(RCurl)
##== (2A).下載檔案(.txt, .csv, .json, .xml)格式 [Munzert, Ch.13]
download.file("http://ftp.wcc.nrcs.usda.gov/ftpref/data/climate/table/temperature/history/california/19l03s_tavg.txt",
"ftpfile1.txt")                   #-- 加州天氣數據
##== (2A).下載檔案(.txt, .csv, .json, .xml)格式 [Munzert, Ch.13]
download.file("http://ftp.wcc.nrcs.usda.gov/ftpref/data/climate/table/temperature/history/california/19l03s_tavg.txt",
"ftpfile1.txt")                   #-- 加州天氣數據
##== (2A).下載檔案(.txt, .csv, .json, .xml)格式 [Munzert, Ch.13]
download.file("http://www.wcc.nrcs.usda.gov/ftpref/data/climate/table/temperature/history/california/19l03s_tavg.txt",
"ftpfile1.txt")                   #-- 加州天氣數據
##=== 2B.FTP檔案列表 [Munzert, Ch.13] ===##
library(RCurl)
ftplist <- "http://www.wcc.nrcs.usda.gov/ftpref/data/climate/table/temperature/history/california/"
filelist <- getURL(ftplist, dirlistonly = TRUE) #-- 加州天氣數據檔案列表
filelist
##== (2C).網頁中表格格式 [http://rfunction.com/archives/1816]
url = "http://www.openintro.org/cont/donorProcess.php"
result <- postForm(url, name="David Diez", email="david@openintro.org", phone="857-288-8547")
result
##== (2D).網頁+參數 格式 [Munzert, Ch.16]
url = "http://www.amazon.com/s/ref=nb_sb_noss_2?url=node%3D2407749011&field-keywords=Apple"
firstSearchPage = getURL(url)
##== (2C).網頁中表格格式 [http://rfunction.com/archives/1816]
url = "http://www.openintro.org/cont/donorProcess.php"
result = postForm(url, name="David Diez", email="david@openintro.org", phone="857-288-8547")
##== (2D).網頁+參數 格式 [Munzert, Ch.16]
url = "http://www.amazon.com/s/ref=nb_sb_noss_2?url=node%3D2407749011&field-keywords=Apple"
firstSearchPage = getURL(url)
parsedFirstSearchPage <- htmlParse(firstSearchPage)  #-- 亞馬遜網站之行動電話數據
parsedFirstSearchPage
#####===== (3).物聯(設備)數據 =====#####
##== (3A)..位置 [Data Taipei
library(jsonlite)
download.file("https://tpairbox.blob.core.windows.net/blobfs/AirBoxData.gz","airbox.gz")
airbox <- fromJSON(gzfile("airbox.gz"))              #-- 台北市空氣盒子開放數據
airbox.df = as.data.frame(airbox$entries);  dim(airbox.df)   #-- 1198  9   #-- airbox.df <- as.data.frame(airbox[[2]])
##=== (3B)..UBIKE/GPS [Data Taipei] ===##
download.file("http://data.taipei/youbike","ubike.gz")
ubike <- fromJSON(gzfile("ubike.gz"))                #-- 台北市UBIKE開放數據
##=== (3B)..UBIKE/GPS [Data Taipei] ===##
download.file("http://data.taipei/youbike","ubike.gz")
ubike = fromJSON(gzfile("ubike.gz"))                #-- 台北市UBIKE開放數據
ubike.gz
##=== (3B)..UBIKE/GPS [Data Taipei] ===##
download.file("http://data.taipei/youbike","ubike.gz")
ubike.gz
##== (3A)..位置 [Data Taipei
library(jsonlite)
download.file("https://tpairbox.blob.core.windows.net/blobfs/AirBoxData.gz","airbox.gz")
airbox = fromJSON(gzfile("airbox.gz"))              #-- 台北市空氣盒子開放數據
airbox.df = as.data.frame(airbox$entries);  dim(airbox.df)   #-- 1198  9   #-- airbox.df <- as.data.frame(airbox[[2]])
##=== (3B)..UBIKE/GPS [Data Taipei] ===##
download.file("http://data.taipei/youbike","ubike.gz")
ubike = fromJSON(gzfile("ubike.gz"))                #-- 台北市UBIKE開放數據
library(plyr)
ubike.df <- ldply(ubike[[2]], function(x) rbind(data.frame(x)))
##=== 3C..運動行為 [Tsai's thesis] ===##
X <- read.csv("20070709Tsai.csv")                    #-- 蔡學長實驗數據
head(airbox.df,2)
unique(airbox.df$device_id)
unique(airbox.df$time)
#                  time        device_id s_0 s_1 s_2 s_3 s_d0  s_t0 s_h0
# 1 2017-10-13 22:16:11     28C2DDDD4423   0 100   1   0    3 27.62  100
# 2 2017-10-13 22:16:13 781463DA0149A7F0   0 100   1   0   11 27.73   80
# time：資料產生時間 device_id：AirBox ID  s_0：Message sequence number s_1：Battery power(0 ~ 100) s_2：Battery or Plug(0: Battery 1: Plug)
#                    s_3：Moving speed(Should be 0) s_d0：PM2.5 s_t0：Temperature s_h0：Humidity
#-- in Power BI, you can use 輸入資料-->資料表:airbox-->儲存變更
#                         -->編輯查詢(PowerQuery)-->轉換-->執行R指令碼-->add these 4 lines-->execute
as.Date(airbox.df)
#                  time        device_id s_0 s_1 s_2 s_3 s_d0  s_t0 s_h0
# 1 2017-10-13 22:16:11     28C2DDDD4423   0 100   1   0    3 27.62  100
# 2 2017-10-13 22:16:13 781463DA0149A7F0   0 100   1   0   11 27.73   80
# time：資料產生時間 device_id：AirBox ID  s_0：Message sequence number s_1：Battery power(0 ~ 100) s_2：Battery or Plug(0: Battery 1: Plug)
#                    s_3：Moving speed(Should be 0) s_d0：PM2.5 s_t0：Temperature s_h0：Humidity
#-- in Power BI, you can use 輸入資料-->資料表:airbox-->儲存變更
#                         -->編輯查詢(PowerQuery)-->轉換-->執行R指令碼-->add these 4 lines-->execute
as.Date(airbox.df$time)
#                  time        device_id s_0 s_1 s_2 s_3 s_d0  s_t0 s_h0
# 1 2017-10-13 22:16:11     28C2DDDD4423   0 100   1   0    3 27.62  100
# 2 2017-10-13 22:16:13 781463DA0149A7F0   0 100   1   0   11 27.73   80
# time：資料產生時間 device_id：AirBox ID  s_0：Message sequence number s_1：Battery power(0 ~ 100) s_2：Battery or Plug(0: Battery 1: Plug)
#                    s_3：Moving speed(Should be 0) s_d0：PM2.5 s_t0：Temperature s_h0：Humidity
#-- in Power BI, you can use 輸入資料-->資料表:airbox-->儲存變更
#                         -->編輯查詢(PowerQuery)-->轉換-->執行R指令碼-->add these 4 lines-->execute
as.Date(airbox.df$time[1])
#                  time        device_id s_0 s_1 s_2 s_3 s_d0  s_t0 s_h0
# 1 2017-10-13 22:16:11     28C2DDDD4423   0 100   1   0    3 27.62  100
# 2 2017-10-13 22:16:13 781463DA0149A7F0   0 100   1   0   11 27.73   80
# time：資料產生時間 device_id：AirBox ID  s_0：Message sequence number s_1：Battery power(0 ~ 100) s_2：Battery or Plug(0: Battery 1: Plug)
#                    s_3：Moving speed(Should be 0) s_d0：PM2.5 s_t0：Temperature s_h0：Humidity
#-- in Power BI, you can use 輸入資料-->資料表:airbox-->儲存變更
#                         -->編輯查詢(PowerQuery)-->轉換-->執行R指令碼-->add these 4 lines-->execute
airbox.df$time[1]
as.Date(airbox.df$time)
table( as.Date(airbox.df$time), airbox.df$device_id )
#                  time        device_id s_0 s_1 s_2 s_3 s_d0  s_t0 s_h0
# 1 2017-10-13 22:16:11     28C2DDDD4423   0 100   1   0    3 27.62  100
# 2 2017-10-13 22:16:13 781463DA0149A7F0   0 100   1   0   11 27.73   80
# time：資料產生時間 device_id：AirBox ID  s_0：Message sequence number s_1：Battery power(0 ~ 100) s_2：Battery or Plug(0: Battery 1: Plug)
#                    s_3：Moving speed(Should be 0) s_d0：PM2.5 s_t0：Temperature s_h0：Humidity
#-- in Power BI, you can use 輸入資料-->資料表:airbox-->儲存變更
#                         -->編輯查詢(PowerQuery)-->轉換-->執行R指令碼-->add these 4 lines-->execute
airbox.df[which(airbox.df=="2BC2DDD4229"),]
#                  time        device_id s_0 s_1 s_2 s_3 s_d0  s_t0 s_h0
# 1 2017-10-13 22:16:11     28C2DDDD4423   0 100   1   0    3 27.62  100
# 2 2017-10-13 22:16:13 781463DA0149A7F0   0 100   1   0   11 27.73   80
# time：資料產生時間 device_id：AirBox ID  s_0：Message sequence number s_1：Battery power(0 ~ 100) s_2：Battery or Plug(0: Battery 1: Plug)
#                    s_3：Moving speed(Should be 0) s_d0：PM2.5 s_t0：Temperature s_h0：Humidity
#-- in Power BI, you can use 輸入資料-->資料表:airbox-->儲存變更
#                         -->編輯查詢(PowerQuery)-->轉換-->執行R指令碼-->add these 4 lines-->execute
airbox.df[which(airbox.df=="2BC2DDDD4229"),]
#                  time        device_id s_0 s_1 s_2 s_3 s_d0  s_t0 s_h0
# 1 2017-10-13 22:16:11     28C2DDDD4423   0 100   1   0    3 27.62  100
# 2 2017-10-13 22:16:13 781463DA0149A7F0   0 100   1   0   11 27.73   80
# time：資料產生時間 device_id：AirBox ID  s_0：Message sequence number s_1：Battery power(0 ~ 100) s_2：Battery or Plug(0: Battery 1: Plug)
#                    s_3：Moving speed(Should be 0) s_d0：PM2.5 s_t0：Temperature s_h0：Humidity
#-- in Power BI, you can use 輸入資料-->資料表:airbox-->儲存變更
#                         -->編輯查詢(PowerQuery)-->轉換-->執行R指令碼-->add these 4 lines-->execute
airbox.df[which(airbox.df$device_id=="2BC2DDDD4229"),]
grep("4229",airbox.df$device_id)
#                  time        device_id s_0 s_1 s_2 s_3 s_d0  s_t0 s_h0
# 1 2017-10-13 22:16:11     28C2DDDD4423   0 100   1   0    3 27.62  100
# 2 2017-10-13 22:16:13 781463DA0149A7F0   0 100   1   0   11 27.73   80
# time：資料產生時間 device_id：AirBox ID  s_0：Message sequence number s_1：Battery power(0 ~ 100) s_2：Battery or Plug(0: Battery 1: Plug)
#                    s_3：Moving speed(Should be 0) s_d0：PM2.5 s_t0：Temperature s_h0：Humidity
#-- in Power BI, you can use 輸入資料-->資料表:airbox-->儲存變更
#                         -->編輯查詢(PowerQuery)-->轉換-->執行R指令碼-->add these 4 lines-->execute
airbox.df[grep("4229",airbox.df$device_id),]
#                     time    device_id s_0 s_1 s_2 s_3 s_d0  s_t0 s_h0
# 210  2017-10-13 22:26:34 28C2DDDD4229   0 100   1   0    3 28.87  100
# 341  2017-10-13 22:32:37 28C2DDDD4229   0 100   1   0    3 28.62  100
# 730  2017-10-13 22:50:46 28C2DDDD4229   0 100   1   0    2 28.62  100
# 1085 2017-10-13 23:08:55 28C2DDDD4229   0 100   1   0    3 29.00  100
sort( airbox.df$time[grep("4229",airbox.df$device_id)] )
DS = airbox.df[grep("4229",airbox.df$device_id),]
plot(DS$time, DS$s_d0)
#                     time    device_id s_0 s_1 s_2 s_3 s_d0  s_t0 s_h0
# 210  2017-10-13 22:26:34 28C2DDDD4229   0 100   1   0    3 28.87  100
# 341  2017-10-13 22:32:37 28C2DDDD4229   0 100   1   0    3 28.62  100
# 730  2017-10-13 22:50:46 28C2DDDD4229   0 100   1   0    2 28.62  100
# 1085 2017-10-13 23:08:55 28C2DDDD4229   0 100   1   0    3 29.00  100
sort( airbox.df$time[grep("4229",airbox.df$device_id)] )
DS = airbox.df[grep("4229",airbox.df$device_id),]
plot(DS$time, DS$s_d0)
DS
plot(cbind(DS$time, DS$s_d0))
plot(cbind(as.Date(DS$time), DS$s_d0))
as.Date(DS$time)
as.strptime(DS$time)
